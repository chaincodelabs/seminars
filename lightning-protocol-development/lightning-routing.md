# Lightning Routing

## Reading

| Content | Time \(min\) |
| :--- | :--- |
| [Network topology creation & maintenance](https://btctranscripts.com/scalingbitcoin/tel-aviv-2019/edgedevplusplus/lightning-network-topology/) | 20 |
| [Routing problems and solutions \(rendezvous, trampoline\)](https://btctranscripts.com/scalingbitcoin/tel-aviv-2019/edgedevplusplus/2019-09-09-carla-kirk-cohen-routing-problems-and-solutions/) | 22 |
| [Trampoline Onion Routing](https://github.com/lightningnetwork/lightning-rfc/blob/trampoline-routing-no-gossip/proposals/trampoline.md) | 15 |
| [Amount-independent payment routing in Lightning Networks](https://medium.com/coinmonks/amount-independent-payment-routing-in-lightning-networks-6409201ff5ed) | 10 |
| [Multi-path payments \(MPP\)](https://youtu.be/Og4TGERPZMY) | 21 |
| Rendezvous routing \([presentation](https://btctranscripts.com/chaincode-labs/chaincode-residency/2019-06-28-christian-decker-rendezvous-routing/) or [wiki write-up](https://github.com/lightningnetwork/lightning-rfc/wiki/Rendez-vous-mechanism-on-top-of-Sphinx)\) | 10 |
| [Route Blinding](https://github.com/lightningnetwork/lightning-rfc/blob/route-blinding/proposals/route-blinding.md) | 30 |
| [Gossip Protocol/Path Finding](https://youtu.be/NT_dMqB1xuA) | 60 |
| [Onion Routing](https://youtu.be/toarjBSPFqI) | 11 |
| [Onion Routing - deep dive](https://btctranscripts.com/chaincode-labs/chaincode-residency/2019-06-25-christian-decker-onion-routing-deep-dive/) | 38 |
| [Sphinx](https://github.com/t-bast/lightning-docs/blob/master/sphinx.md) | 20 |

## Discussion Questions

1. How do watchtowers work with non-advertised channels when part of the graph is not known? Or with trampoline when the routing calculation is outsourced?

### Network topology creation & maintenance

1. On the base layer, the quality of the nodes you connect to is largely irrelevant provided they are an honest peer. How does this differ in Lightning when opening a channel to a peer?
2. What practical measures can nodes wishing to route on Lightning take to improve their success? Does this cause issues for new entrants?

### Routing problems and solutions \(rendezvous, trampoline\)

1. What privacy tradeoffs do trampoline payments have? How can they be mitigated?
2. Can trampoline payments be combined with atomic multi-path payments to mitigate privacy issues?
3. How do trampoline and rendezvous routing differ? Why would you use one or the other?
4. Is the Lightning routing problem NP-hard?

### Multi-path payments \(MPP\)

1. What is the difference between MPP and AMP payment splitting?
2. What are the advantages and disadvantages of multipath routing?
3. What problems could arise if a node participates in multiple paths of a multi-path payment?

### Rendezvous routing

1. Explain rendezvous routing in plain English.
2. Would it make sense to chain multiple rendezvous meeting points?
3. What are the benefits and downsides of Rendezvous routing?

### Gossip Protocol/Path Finding

1. How can just-in-time routing help with routing payments?
2. How can a griefing attack affect routing nodes and what are possible counter measures?

### Onion Routing - deep dive

1. How do we combine two partial onions?
2. When and why are ephemeral keys rotated? What would change if ephemeral keys were fully generated by the sender?

